<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADI iSensor FX3 Firmware: iSensor FX3 Firmware</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Analog-Devices-Logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADI iSensor FX3 Firmware
   &#160;<span id="projectnumber">v2.0.3-pub</span>
   </div>
   <div id="projectbrief">Firmware for the Analog Devices iSensor FX3 Evaluation Platform. This firmware is built upon libraries provided by Cypress, and can be compiled using the Cypress EZ USB Suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">iSensor FX3 Firmware </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Overview</h2>
<p>The iSensor FX3 firmware is designed to provide users with a means of reliably acquiring sensor data over a high-speed USB connection in any .NET compatible application. This firmware was designed for use on the Cypress FX3 SuperSpeed Explorer Kit and relies on the open source libraries provided by Cypress to operate. The freely-available, Eclipse-based, Cypress EZ USB Suite was used for all firmware development.</p>
<p>Doxygen generated documentation for the firmware can be found here: <a href="https://juchong.github.io/iSensor-FX3-Firmware/">https://juchong.github.io/iSensor-FX3-Firmware/</a>.</p>
<h2>System Architecture</h2>
<p>The iSensor FX3 firmware attempts to follow the Cypress program workflow and relies on FX3 system threading, execution priority, and event flags to execute firmware subroutines and transmit sensor data. Unique vendor commands trigger subroutines embedded in the iSensor FX3 firmware that read and write SPI data, measure external pulses, generate clock signals, and manage board configuration. Different SPI streaming modes are implemented which allow applications to easily communicate to most products in the iSensor portfolio.</p>
<p>A .NET-compatible API has been developed in parallel to simplify interfacing with the iSensor FX3 firmware.</p>
<h2>Hardware Requirements</h2>
<p>This firmware was designed using the Cypress SuperSpeed Explorer Kit (CYUSB3KIT-003), but should operate on a bare CYUSB3014 device assuming the correct hardware resources are externally available.</p>
<p>Design files for a breakout board designed to adapt the Explorer Kit's pins to a standard, 16-pin, 2mm connector used on most iSensor evaluation boards is available in the <a href="https://github.com/juchong/iSensor-FX3-Firmware/tree/master/Documentation">documentation</a> folder of this repository.</p>
<img src="documentation/pictures/img5.jpg" alt="Cypress FX3 Explorer Kit connected to an ADcmXL3021 evaluation board and module" class="inline"/>
<h2>Jumper Configuration</h2>
<p>The Explorer Kit requires four jumpers to be installed such that the interface library is able to properly detect the Explorer Kit. The jumpers also enable an onboard, 3.3V regulator and set the FX3 GPIO logic. The image below shows where the jumpers must be installed.</p>
<img src="documentation/pictures/JumperLocations.jpg" alt="FX3 Jumper Locations" class="inline"/>
<h2>Setting Up The Development Environment</h2>
<h4>Firmware Environment</h4>
<p>This repository includes an eclipse <code>.project</code> file that enables easily importing the necessary code and resources into the Cypress EZ USB Suite environment. The Cypress EZ USB Suite IDE can be found on Cypress' website <a href="https://www.cypress.com/documentation/software-and-drivers/ez-usb-fx3-software-development-kit">here</a>. Once downloaded and installed, open the <code>Cypress EZ USB Suite</code>, Select <code>File -&gt; Import -&gt; Existing Project Into Workplace</code> and select the <code>.project</code> file in this repository</p>
<h4>.NET Environment</h4>
<p>This firmware relies heavily on the accompanying FX3 API to implement many timing-sensitive vendor commands, data transfers, etc. It is <em>highly</em> recommended that the same firmware and interface versions be used. Additional details on setting up the API development and example application environments can be found in their respective repositories.</p>
<h2>Drivers</h2>
<p>As of v1.0.6, custom, signed, Analog Devices drivers must be used to communicate with the iSensor FX3 Firmware. The driver installation package can be found in the <a href="https://github.com/juchong/iSensor-FX3-Firmware/tree/master/drivers">drivers</a> folder in this repository or downloaded directly from <a href="https://github.com/juchong/iSensor-FX3-Firmware/raw/master/drivers/FX3DriverSetup.exe">here</a>.</p>
<h2>Supporting Repositories</h2>
<p>The two repositories listed below were developed alongside this firmware and provide an easy way to implement iSensor FX3 Firmware features in a .NET application. It is <em>highly</em> recommended that the FX3 Firmware and API versions match!</p>
<ol type="1">
<li><a href="https://github.com/juchong/iSensor-FX3-API">iSensor FX3 API</a></li>
<li><a href="https://github.com/juchong/iSensor-FX3-Example-Gui">iSensor FX3 Example Gui</a></li>
</ol>
<h2>Debugging</h2>
<p>Debugging on the Explorer Kit is done primarily through the UART port. Unfortunately, the onboard USB debugging connector utilizes the same FX3 GPIO pins as the SPI peripheral and will not properly function. To enable printing debugging messages, you'll need to use a USB-&gt;UART adapter <a href="https://www.amazon.com/ADAFRUIT-Industries-954-Serial-Raspberry/dp/B00DJUHGHI/ref=sr_1_6?keywords=usb+uart&amp;qid=1564080408&amp;s=gateway&amp;sr=8-6">like this one</a> to monitor GPIO 48 and 49 (labeled DQ30(RX) and DQ31(TX) on the Explorer Kit). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
