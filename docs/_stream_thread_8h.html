<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADI iSensor FX3 Firmware: C:/Users/anolan3/Documents/iSensor-FX3-Firmware/FX3_Firmware/StreamThread.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Analog-Devices-Logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADI iSensor FX3 Firmware
   &#160;<span id="projectnumber">v2.8.0-pub</span>
   </div>
   <div id="projectbrief">Firmware for the Analog Devices iSensor FX3 Evaluation Platform. This firmware is built upon libraries provided by Cypress, and can be compiled using the Cypress EZ USB Suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a6f5bf3126ac94fe2cad71d1f6aa3d6b.html">FX3_Firmware</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">StreamThread.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the streaming thread.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
</div>
<p><a href="_stream_thread_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0298aa7ed330e2e6a75cc93374bfbf07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#a0298aa7ed330e2e6a75cc93374bfbf07">STREAMTHREAD_STACK</a>&#160;&#160;&#160;(0x0800)</td></tr>
<tr class="separator:a0298aa7ed330e2e6a75cc93374bfbf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37bc059a04fa09b8a43af79323264a86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#a37bc059a04fa09b8a43af79323264a86">STREAMTHREAD_PRIORITY</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="separator:a37bc059a04fa09b8a43af79323264a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7705f9deff41eda1e466279dd336b5ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#a7705f9deff41eda1e466279dd336b5ef">AdiStreamThreadEntry</a> (uint32_t input)</td></tr>
<tr class="memdesc:a7705f9deff41eda1e466279dd336b5ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">The entry point function for the StreamThread. Handles all streaming data captures.  <a href="#a7705f9deff41eda1e466279dd336b5ef">More...</a><br /></td></tr>
<tr class="separator:a7705f9deff41eda1e466279dd336b5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab226153019961463f242b1753cd49343"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#ab226153019961463f242b1753cd49343">AdiGenericStreamWork</a> ()</td></tr>
<tr class="memdesc:ab226153019961463f242b1753cd49343"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the worker function for the generic stream.  <a href="#ab226153019961463f242b1753cd49343">More...</a><br /></td></tr>
<tr class="separator:ab226153019961463f242b1753cd49343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c84df8b549056e389374a9c11ba25b"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#ab8c84df8b549056e389374a9c11ba25b">AdiRealTimeStreamWork</a> ()</td></tr>
<tr class="memdesc:ab8c84df8b549056e389374a9c11ba25b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the worker function for the ADcmXL real time stream.  <a href="#ab8c84df8b549056e389374a9c11ba25b">More...</a><br /></td></tr>
<tr class="separator:ab8c84df8b549056e389374a9c11ba25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90cc5295775dab2eacb0ca40d2fad116"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#a90cc5295775dab2eacb0ca40d2fad116">AdiBurstStreamWork</a> ()</td></tr>
<tr class="memdesc:a90cc5295775dab2eacb0ca40d2fad116"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the worker function for the burst stream.  <a href="#a90cc5295775dab2eacb0ca40d2fad116">More...</a><br /></td></tr>
<tr class="separator:a90cc5295775dab2eacb0ca40d2fad116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610326d979be10938450bd29430e457b"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#a610326d979be10938450bd29430e457b">AdiTransferStreamWork</a> ()</td></tr>
<tr class="memdesc:a610326d979be10938450bd29430e457b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the worker function for the transfer stream.  <a href="#a610326d979be10938450bd29430e457b">More...</a><br /></td></tr>
<tr class="separator:a610326d979be10938450bd29430e457b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a884abd7d1337c955ab8b0d09e698982c"><td class="memItemLeft" align="right" valign="top">CyU3PReturnStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stream_thread_8h.html#a884abd7d1337c955ab8b0d09e698982c">AdiI2CStreamWork</a> ()</td></tr>
<tr class="memdesc:a884abd7d1337c955ab8b0d09e698982c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the worker function for the I2C read stream.  <a href="#a884abd7d1337c955ab8b0d09e698982c">More...</a><br /></td></tr>
<tr class="separator:a884abd7d1337c955ab8b0d09e698982c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the streaming thread. </p>
<p>Copyright (c) Analog Devices Inc, 2018 - 2020 All Rights Reserved.</p>
<p>THIS SOFTWARE UTILIZES LIBRARIES DEVELOPED AND MAINTAINED BY CYPRESS INC. THE LICENSE INCLUDED IN THIS REPOSITORY DOES NOT EXTEND TO CYPRESS PROPERTY.</p>
<p>Use of this file is governed by the license agreement included in this repository.</p>
<dl class="section date"><dt>Date</dt><dd>8/1/2019 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>A. Nolan (<a href="#" onclick="location.href='mai'+'lto:'+'ale'+'x.'+'nol'+'an'+'@an'+'al'+'og.'+'co'+'m'; return false;">alex.<span style="display: none;">.nosp@m.</span>nola<span style="display: none;">.nosp@m.</span>n@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd>
<dd>
J. Chong (<a href="#" onclick="location.href='mai'+'lto:'+'jua'+'n.'+'cho'+'ng'+'@an'+'al'+'og.'+'co'+'m'; return false;">juan.<span style="display: none;">.nosp@m.</span>chon<span style="display: none;">.nosp@m.</span>g@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a37bc059a04fa09b8a43af79323264a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37bc059a04fa09b8a43af79323264a86">&#9670;&nbsp;</a></span>STREAMTHREAD_PRIORITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAMTHREAD_PRIORITY&#160;&#160;&#160;(8)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>StreamThread execution priority for the thread scheduler </p>

</div>
</div>
<a id="a0298aa7ed330e2e6a75cc93374bfbf07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0298aa7ed330e2e6a75cc93374bfbf07">&#9670;&nbsp;</a></span>STREAMTHREAD_STACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAMTHREAD_STACK&#160;&#160;&#160;(0x0800)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>StreamThread allocated stack size (2KB) </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a90cc5295775dab2eacb0ca40d2fad116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90cc5295775dab2eacb0ca40d2fad116">&#9670;&nbsp;</a></span>AdiBurstStreamWork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiBurstStreamWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the worker function for the burst stream. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code representing the success of the burst stream operation.</dd></dl>
<p>This function performs all the SPI and USB transfers for a single burst in IMU burst mode. It can be configured to transfer an arbitrary number of bytes in a single SPI transaction, with optional data ready triggering. </p>

</div>
</div>
<a id="ab226153019961463f242b1753cd49343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab226153019961463f242b1753cd49343">&#9670;&nbsp;</a></span>AdiGenericStreamWork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiGenericStreamWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the worker function for the generic stream. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code representing the success of the generic stream operation.</dd></dl>
<p>This function performs all the SPI and USB transfers for a single "buffer" of a generic stream. One buffer is considered to be numCapture reads of the register list provided. </p>

</div>
</div>
<a id="a884abd7d1337c955ab8b0d09e698982c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a884abd7d1337c955ab8b0d09e698982c">&#9670;&nbsp;</a></span>AdiI2CStreamWork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiI2CStreamWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the worker function for the I2C read stream. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code representing the success of the I2C stream operation.</dd></dl>
<p>This function performs all the I2C and USB transfers for a single "buffer" of an I2C read stream. The size of each buffer is the number of read bytes requested in the stream start </p>

</div>
</div>
<a id="ab8c84df8b549056e389374a9c11ba25b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c84df8b549056e389374a9c11ba25b">&#9670;&nbsp;</a></span>AdiRealTimeStreamWork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiRealTimeStreamWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the worker function for the ADcmXL real time stream. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code representing the success of the real time stream operation.</dd></dl>
<p>The operation of this function is very similar to the Burst Stream function. This implementation is slightly more stream lined to allow for the very tight tolerances on the ADcmXL3021 stream modes. </p>

</div>
</div>
<a id="a7705f9deff41eda1e466279dd336b5ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7705f9deff41eda1e466279dd336b5ef">&#9670;&nbsp;</a></span>AdiStreamThreadEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AdiStreamThreadEntry </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The entry point function for the StreamThread. Handles all streaming data captures. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>Unused input required by the RTOS thread manager</td></tr>
  </table>
  </dd>
</dl>
<p>This function runs in its own thread and handles real-time, burst, generic, and transfer streaming processes. Either type of stream can be kicked off by executing the appropriate set-up routine and then triggering the corresponding event flag. </p>

</div>
</div>
<a id="a610326d979be10938450bd29430e457b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a610326d979be10938450bd29430e457b">&#9670;&nbsp;</a></span>AdiTransferStreamWork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CyU3PReturnStatus_t AdiTransferStreamWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the worker function for the transfer stream. </p>
<dl class="section return"><dt>Returns</dt><dd>A status code representing the success of the transfer stream operation.</dd></dl>
<p>Transfer stream is used to implement protocol agnostic SPI transfers. This is useful for sensors which implement a non-standard SPI protocol (CRC/Metadata/Weird bit lengths, etc) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
